{"version":3,"sources":["App.js","index.js"],"names":["request","_ref","Object","asyncToGenerator","regenerator_default","a","mark","_callee","path","response","url","wrap","_context","prev","next","concat","axios","get","sent","t0","abrupt","stop","this","_x","apply","arguments","App","props","_this","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","toggle","bind","assertThisInitialized","state","authors","collapse","setState","data","soundPath","str","charAt","toUpperCase","slice","replace","_this2","react_default","createElement","className","Navbar","color","NavbarBrand","href","keys","map","author","style","marginBottom","key","Alert","Button","id","margin","UncontrolledCollapse","toggler","outline","sound","marginLeft","size","onClick","handleOnClick","Spaces","Capitalize","Component","socket","require","connect","bullySound","Audio","on","text","pause","currentTime","image","split","iconUrl","window","Notification","permission","badge","play","requestPermission","alert","notifyMe","ReactDOM","render","src_App","serverPort","process","SERVER_PORT","document","getElementById"],"mappings":"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","file":"static/js/main.5158025c.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport axios from 'axios';\n//import './App.css';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { Navbar, NavbarBrand, UncontrolledCollapse, Button, Alert } from 'reactstrap';\n\n//const BASE_PATH = 'http://localhost:3001';\n//const BASE_PATH = 'http://localhost';\n\nconst request = async (path) => {\n  let response;\n\n  try {\n    const url = `/${path}`;\n\n    response = await axios.get(url);\n  } catch (error) {\n  }\n\n  return response;\n}\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n    this.toggle = this.toggle.bind(this);\n    this.state = {\n      authors: {},\n      collapse: false\n    }\n  }\n\n  toggle() {\n    this.setState(state => ({ collapse: !state.collapse }));\n  }\n\n  async componentWillMount() {\n    const response = await request('list');\n\n    this.setState({ authors: response.data });\n  }\n  \n  handleOnClick(soundPath) {\n    return request(soundPath);\n  }\n  Capitalize(str){\n    return str.charAt(0).toUpperCase() + str.slice(1);\n  }\n  Spaces(str){\n    return str.replace(/_/g, \" \")\n  }\n\n  render() {\n    return <div className='app-container'>\n      <Navbar color=\"dark\">\n        <NavbarBrand href=\"/\">Bullyteer!</NavbarBrand>\n      </Navbar>\n      {Object.keys(this.state.authors).map((author) =>\n        <div style={{ marginBottom:'3px' }} key={author} className='author-row'>\n          <div className='author-title'>\n            <Alert style={{ marginBottom:'0px' }} color=\"info\">\n              <Button color=\"info\" id={author} style={{ margin: '0.1rem'}}>{author}</Button>\n            </Alert>\n          </div>\n          <div className='sounds-list'>\n            <UncontrolledCollapse toggler={author}>\n              <Alert style={{ marginBottom:'2px' }} outline color=\"info\">\n                {this.state.authors[author].map((sound) => \n                  <Button outline color=\"primary\" \n                  style={{ marginLeft: '0.5rem', marginBottom:'0.3rem' }} \n                  size=\"sm\" \n                  onClick={() => this.handleOnClick(`${author}/${sound}`)} \n                  key={sound} className='sound-item'>\n                  {this.Spaces(this.Capitalize(sound))}\n                  </Button>)}\n              </Alert>\n            </UncontrolledCollapse>\n          </div>\n        </div>\n      )}\n    </div>;\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nvar io = require('socket.io-client');\nvar socket = io.connect('/');\nvar bullySound = new Audio()\n\nfunction notifyMe(sound, text) {\n  bullySound = new Audio(sound);\n  var image = text.split(\":\")[0];\n  var iconUrl = `/images/${image}.jpg`;\n  if (!(\"Notification\" in window)) {\n    alert(\"This browser does not support desktop notification\");\n  }\n  else if (Notification.permission === \"granted\") {\n    new Notification(text, {badge: iconUrl});\n    bullySound.play();\n  }\n\n  else if (Notification.permission !== 'denied') {\n    Notification.requestPermission(function (permission) {\n      if (permission === \"granted\") {\n\n        new Notification(text,{badge: iconUrl });\n\n        bullySound.play();\n      }\n    });\n  }\n}\n\nsocket.on('messages', function (sound, text) {\n  bullySound.pause();\n  bullySound.currentTime = 0;\n\n  notifyMe(sound, text);\n});\n\nReactDOM.render(<App serverPort={process.env.SERVER_PORT} />, document.getElementById('root'));\n"],"sourceRoot":""}